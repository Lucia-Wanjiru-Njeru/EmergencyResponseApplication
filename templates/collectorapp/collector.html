{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form </title>
    <!-- Bootstrap core CSS -->
<!-- Link to an external Bootstrap CSS file from the static directory -->
<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

<!-- Link to an external Leaflet CSS file from an external source -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
crossorigin=""/>
<!-- Include the Leaflet JavaScript library from an external source -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
crossorigin=""></script>
<!-- Include the Chart.js JavaScript library from an external source -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</head>
<body>
    <div class="container-fluid ms-0 ">
    <div class="row text-white ">
        <p class="bg-success text-center">A form to collect incident data for analysis </p>
    </div>
        <form action="" method="post" class="form ms-1 me-1">
            {% csrf_token %}

                <div class="mb-3">
                    <select class="form-select" id="inputGroupSelect01">
                        <option selected>Medical </option>
                        <option value="1">Crime</option>
                        <option value="2">Fire</option>
                        <option value="3">Medical Crime</option>
                        <option value="3">Medical Fire</option>
                        <option value="3">Crime Fire</option>
                        <option value="3">Medical Crime Fire</option>
                       
                      </select>
                </div>
                <div class="mb-3">
                  <label for="casualty-number-input" class="form-label">Casualty Number</label>
                  <input type="number" class="form-control" id="casualty-number-input">
                </div>
                <div class="mb-3">
                    <label for="spread-radius-input" class="form-label">Approximate Spread</label>
                    <input type="number" class="form-control" id="spread-radius-input">
                  </div>
                <button type="button" class="btn btn-primary " id="get-location-bton">Get Location</button>
                <button type="submit" class="btn btn-primary">Submit</button>
             
           
    
        </form>

    </div>

    <p>Displaying location using Latitude and Longitude</p>
 
    <button class="geeks" onclick="getlocation()">
        Click Me
    </button>
    <p id="demo1"></p>
 
    <script>
        let variable1 = document.getElementById("demo1");
        function getlocation() {
            navigator.geolocation.getCurrentPosition(showLoc);
        }
        function showLoc(pos) {
            variable1.innerHTML =
                "Latitude: " +
                pos.coords.latitude +
                "<br>Longitude: " +
                pos.coords.longitude;
        }
    </script>
    <script>
        const getLocationBtn = document.getElementById("get-location-bton");
var coordis = [];



getLocationBtn.addEventListener('click',()=>{
    console.log('getting location.');
    if (navigator.geolocation) {
     navigator.geolocation.getCurrentPosition((position)=>{
        console.log('calculating');
        coordis.push([position.coords.latitude, position.coords.longitude]);
        console.log('coordinates are: ', coordis);
        
     });
      
    } else {
      getLocationBtn.innerHTML = "Geolocation is not supported by this browser.";
    }
  }
)

function showPosition(position) {
    // x.innerHTML = "Latitude: " + position.coords.latitude +
    // "<br>Longitude: " + position.coords.longitude;
    // coords.push(position.coords.latitude);
    // coords.push(position.coords.longitude);

    coords.push([position.coords.latitude, position.coords.longitude]);
    console.log('coordinates are: ', coords);

  }
    </script>

</body>
</html>